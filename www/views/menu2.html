<ion-side-menus enable-menu-with-back-views="true">

    <ion-side-menu-content>
        <ion-nav-bar class="bar-positive">
            <ion-nav-back-button>
            </ion-nav-back-button>
            <ion-nav-buttons side="left">
                <button ripple class="button button-settings button-clear icon ion-android-menu" menu-toggle="left"></button>
            </ion-nav-buttons>
        </ion-nav-bar>
        <ion-nav-view name="menuContent">
            <!-- MAIN CONTENT -->
        </ion-nav-view>
    </ion-side-menu-content>

    <!-- SIDE MENU -->
    <ion-side-menu side="left" class="bg">

        <ion-header-bar class="expanded bar bar-header bg-transparent bar-calm">
            <div class="buttons">
                <button class="button button-settings button-stable icon ion-android-settings" ng-click="settingsModal.show()"></button>
                <ion-item class="item-image avatar"><img src="img/logo.png"></ion-item>
                <button class="button button-user button-stable icon ion-android-calendar" menu-close ui-sref="menu.daily">
                    <span class="badge badge-assertive">{{user.dailyQuestions}}</span>
                </button>
            </div>
            <span class="headerText title light">
                {{$storage.user.name}}
                </br>
                <span><i class="icon ion-android-person"></i>&nbsp;&nbsp;{{user.email}}</span>
            </span>
        </ion-header-bar>

        <ion-content class="has-expanded-header" scroll="false">
            <ion-list>
                <ion-item ng-repeat="view in views" class="borderless item-calm item-icon-left" ng-class="{'menu-selected': isViewSelected(view.name)}"
                    menu-close href="#/menu/{{view.ref}}">
                    <button class="button btn-bar icon-left button-clear {{view.icon}} button-light">
                        <i class="icon menu-icon" ng-class="''"></i>
                        &nbsp;&nbsp;&nbsp;&nbsp;{{view.name}}
                    </button>
                </ion-item>
            </ion-list>
        </ion-content>

    </ion-side-menu>
</ion-side-menus>

<!-- SETTINGS -->
<script id="settingsModal.html" type="text/ng-template">
    <div class="modal" ng-controller="settingsModalCtrl">
        <ion-header-bar class="bar bar-header bar-positive">
            <span class="left-buttons">
                <button class="button button-clear button-icon ion-android-arrow-back" ng-click="hideModal()"><i class="icon"></i></button>
            </span>
            <h1 class="title">Settings</h1>
        </ion-header-bar>
        <ion-content padding="true" scroll="false"> 
            <div class="list padding">
            <button ng-click="$parent.logout(); hideModal()" class="button button-assertive button-block">Log out</button>
            <!--<a ng-click="hideModal()" ui-sref="login" class="button button-assertive button-block">Login</a>-->
            <!--<a ng-click="$parent.toQuestion(false); hideModal()" class="button button-assertive button-block">Question</a>-->
            </div>
        </ion-content>
    </div>
</script>